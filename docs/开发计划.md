# Zero-Pressure-Interview å¼€å‘è®¡åˆ’

> åŸºäºå½“å‰æ¶æ„çŠ¶æ€åˆ¶å®šçš„è¯¦ç»†å¼€å‘è®¡åˆ’ï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åº

## ğŸ“Š å½“å‰çŠ¶æ€æ€»ç»“

### âœ… å·²å®Œæˆ
| æ¨¡å— | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| IDL å®šä¹‰ | âœ… å®Œæˆ | base/, http/, rpc/ ä¸‰å±‚å®šä¹‰å®Œæ•´ |
| Kitex ä»£ç ç”Ÿæˆ | âœ… å®Œæˆ | kitex_gen/ å·²ç”Ÿæˆ |
| GORM Gen ä»£ç ç”Ÿæˆ | âœ… å®Œæˆ | sqlentity/, sqlfunc/ å·²ç”Ÿæˆ |
| æœåŠ¡æ¡†æ¶æ­å»º | âœ… å®Œæˆ | user, api æœåŠ¡å…¥å£å·²åˆ›å»º |
| æ•°æ®åº“åˆå§‹åŒ– | âœ… å®Œæˆ | initialize/db.go å·²å®ç° |
| å·¥å…·åŒ… | âœ… å®Œæˆ | MD5åŠ å¯†ã€Paseto Token å·²å®ç° |

### âš ï¸ å¾…å®Œå–„
| æ¨¡å— | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| errno åŒ… | âŒ é”™è¯¯ | å¼•ç”¨äº†é”™è¯¯çš„åŒ…è·¯å¾„ |
| User Handler | ğŸ”² ç©ºå®ç° | æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯ TODO |
| API Handler | ğŸ”² ç©ºå®ç° | æœªè°ƒç”¨ RPC æœåŠ¡ |
| Resume è¡¨ | ğŸ”² ç¼ºå¤± | éœ€è¦æ·»åŠ ç®€å†è¡¨ |

---

## ğŸ¯ å¼€å‘è®¡åˆ’ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰

### Phase 1: åŸºç¡€è®¾æ–½ä¿®å¤ï¼ˆä¼˜å…ˆçº§ï¼šP0ï¼‰
> é¢„è®¡æ—¶é—´ï¼š0.5å¤©

#### 1.1 ä¿®å¤ errno åŒ…
- [ ] é‡å†™ `server/shared/errno/errno.go`
- [ ] ä½¿ç”¨æœ¬åœ° ErrCode æšä¸¾æ›¿ä»£å¤–éƒ¨ä¾èµ–
- [ ] æ·»åŠ é”™è¯¯ç å¸¸é‡å’Œè¾…åŠ©å‡½æ•°

#### 1.2 å®Œå–„é”™è¯¯å¤„ç†å·¥å…·
- [ ] åˆ›å»º `server/shared/errno/code.go` - é”™è¯¯ç å®šä¹‰
- [ ] åˆ›å»º `server/shared/errno/response.go` - å“åº”æ„å»ºå™¨

---

### Phase 2: User æœåŠ¡æ ¸å¿ƒåŠŸèƒ½ï¼ˆä¼˜å…ˆçº§ï¼šP0ï¼‰
> é¢„è®¡æ—¶é—´ï¼š2å¤©

#### 2.1 ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½
- [ ] å®ç° `Register` handler
  - å‚æ•°æ ¡éªŒï¼ˆé‚®ç®±æ ¼å¼ã€å¯†ç å¼ºåº¦ï¼‰
  - æ£€æŸ¥é‚®ç®±æ˜¯å¦å·²å­˜åœ¨
  - å¯†ç åŠ å¯†å­˜å‚¨
  - è¿”å›ç”¨æˆ·ID

#### 2.2 ç”¨æˆ·ç™»å½•åŠŸèƒ½
- [ ] å®ç° `Login` handler
  - éªŒè¯é‚®ç®±å’Œå¯†ç 
  - ç”Ÿæˆ Paseto Token
  - æ›´æ–°æœ€åç™»å½•æ—¶é—´å’ŒIP
  - è¿”å› Token å’Œç”¨æˆ·ä¿¡æ¯

#### 2.3 è·å–ç”¨æˆ·ä¿¡æ¯
- [ ] å®ç° `GetUser` handler
  - æ ¹æ®ç”¨æˆ·IDæŸ¥è¯¢
  - è¿”å›ç”¨æˆ·å®ä½“ï¼ˆä¸å«å¯†ç ï¼‰

#### 2.4 æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- [ ] å®ç° `UpdateUser` handler
  - æ›´æ–°æ˜µç§°ã€å¤´åƒç­‰ä¿¡æ¯

#### 2.5 ä¿®æ”¹å¯†ç 
- [ ] å®ç° `ChangePassword` handler
  - éªŒè¯æ—§å¯†ç 
  - æ›´æ–°æ–°å¯†ç 

#### 2.6 å¥åº·æ£€æŸ¥
- [ ] å®ç° `HealthCheck` handler
  - è¿”å›æœåŠ¡çŠ¶æ€ã€ç‰ˆæœ¬ã€è¿è¡Œæ—¶é—´

---

### Phase 3: ç®€å†ç®¡ç†åŠŸèƒ½ï¼ˆä¼˜å…ˆçº§ï¼šP1ï¼‰
> é¢„è®¡æ—¶é—´ï¼š1å¤©

#### 3.1 æ·»åŠ ç®€å†è¡¨
- [ ] åˆ›å»º `server/shared/dal/sql/resumes.sql`
- [ ] æ›´æ–° GORM Gen é…ç½®
- [ ] é‡æ–°ç”Ÿæˆ DAL ä»£ç 

#### 3.2 ç®€å† Handler å®ç°
- [ ] å®ç° `UploadResume` handler
- [ ] å®ç° `GetResume` handler
- [ ] å®ç° `DeleteResume` handler

---

### Phase 4: API ç½‘å…³é›†æˆï¼ˆä¼˜å…ˆçº§ï¼šP0ï¼‰
> é¢„è®¡æ—¶é—´ï¼š1å¤©

#### 4.1 RPC å®¢æˆ·ç«¯åˆå§‹åŒ–
- [ ] å®Œå–„ `server/cmd/api/initialize/rpc/user_service.go`
- [ ] é…ç½®æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡

#### 4.2 API Handler å®ç°
- [ ] å®Œå–„ `server/cmd/api/biz/handler/user/user_service.go`
  - è°ƒç”¨ User RPC æœåŠ¡
  - å¤„ç†å“åº”å’Œé”™è¯¯
  - è®¾ç½® Cookie/Header

#### 4.3 è®¤è¯ä¸­é—´ä»¶
- [ ] å®ç° Paseto Token éªŒè¯ä¸­é—´ä»¶
- [ ] é…ç½®éœ€è¦è®¤è¯çš„è·¯ç”±

---

### Phase 5: Interview æœåŠ¡ï¼ˆä¼˜å…ˆçº§ï¼šP1ï¼‰
> é¢„è®¡æ—¶é—´ï¼š3å¤©

#### 5.1 æœåŠ¡æ¡†æ¶
- [ ] å®Œå–„ `server/cmd/interview/handler.go`
- [ ] é…ç½®åˆå§‹åŒ–æ¨¡å—

#### 5.2 æ ¸å¿ƒåŠŸèƒ½
- [ ] å¼€å§‹é¢è¯• `StartInterview`
- [ ] æäº¤å›ç­” `SubmitAnswer`
- [ ] ç»“æŸé¢è¯• `FinishInterview`
- [ ] è·å–é¢è¯•å†å² `GetInterviewHistory`
- [ ] è·å–é¢è¯•è¯¦æƒ… `GetInterviewDetail`

---

### Phase 6: Question æœåŠ¡ï¼ˆä¼˜å…ˆçº§ï¼šP1ï¼‰
> é¢„è®¡æ—¶é—´ï¼š2å¤©

#### 6.1 æœåŠ¡æ¡†æ¶
- [ ] å®Œå–„ `server/cmd/question/handler.go`
- [ ] é…ç½®åˆå§‹åŒ–æ¨¡å—

#### 6.2 æ ¸å¿ƒåŠŸèƒ½
- [ ] è·å–åˆ†ç±»åˆ—è¡¨ `GetCategories`
- [ ] è·å–é¢˜ç›®åˆ—è¡¨ `GetQuestionList`
- [ ] è·å–é¢˜ç›®è¯¦æƒ… `GetQuestionDetail`
- [ ] æ”¶è—é¢˜ç›® `FavoriteQuestion`

---

### Phase 7: Storage æœåŠ¡ï¼ˆä¼˜å…ˆçº§ï¼šP2ï¼‰
> é¢„è®¡æ—¶é—´ï¼š1å¤©

#### 7.1 æœåŠ¡æ¡†æ¶
- [ ] å®Œå–„ `server/cmd/storage/handler.go`
- [ ] é›†æˆ MinIO å®¢æˆ·ç«¯

#### 7.2 æ ¸å¿ƒåŠŸèƒ½
- [ ] æ–‡ä»¶ä¸Šä¼  `UploadFile`
- [ ] æ–‡ä»¶ä¸‹è½½ `DownloadFile`
- [ ] è·å–æ–‡ä»¶URL `GetFileURL`

---

### Phase 8: æµ‹è¯•ä¸ä¼˜åŒ–ï¼ˆä¼˜å…ˆçº§ï¼šP1ï¼‰
> é¢„è®¡æ—¶é—´ï¼š2å¤©

#### 8.1 å•å…ƒæµ‹è¯•
- [ ] User æœåŠ¡æµ‹è¯•
- [ ] Interview æœåŠ¡æµ‹è¯•
- [ ] Question æœåŠ¡æµ‹è¯•

#### 8.2 é›†æˆæµ‹è¯•
- [ ] API ç«¯åˆ°ç«¯æµ‹è¯•
- [ ] æœåŠ¡é—´è°ƒç”¨æµ‹è¯•

#### 8.3 æ€§èƒ½ä¼˜åŒ–
- [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- [ ] ç¼“å­˜ç­–ç•¥å®ç°
- [ ] è¿æ¥æ± é…ç½®

---

## ğŸ“ æ–‡ä»¶å˜æ›´æ¸…å•

### éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶
```
server/shared/errno/errno.go          # é‡å†™é”™è¯¯å¤„ç†
server/cmd/user/handler.go            # å®ç°ä¸šåŠ¡é€»è¾‘
server/cmd/user/initialize/db.go      # æ·»åŠ  Resume è¡¨è¿ç§»
server/cmd/api/biz/handler/user/*.go  # è°ƒç”¨ RPC æœåŠ¡
server/cmd/api/initialize/rpc/*.go    # RPC å®¢æˆ·ç«¯åˆå§‹åŒ–
```

### éœ€è¦æ–°å¢çš„æ–‡ä»¶
```
server/shared/errno/code.go           # é”™è¯¯ç å¸¸é‡
server/shared/errno/response.go       # å“åº”æ„å»ºå™¨
server/shared/dal/sql/resumes.sql     # ç®€å†è¡¨ SQL
server/cmd/api/biz/middleware/auth.go # è®¤è¯ä¸­é—´ä»¶
```

---

## ğŸš€ å»ºè®®çš„å¼€å‘é¡ºåº

```
Week 1:
â”œâ”€â”€ Day 1-2: Phase 1 + Phase 2 (åŸºç¡€è®¾æ–½ + User æœåŠ¡)
â”œâ”€â”€ Day 3: Phase 4 (API ç½‘å…³é›†æˆ)
â”œâ”€â”€ Day 4: Phase 3 (ç®€å†ç®¡ç†)
â””â”€â”€ Day 5: æµ‹è¯•å’Œä¿®å¤

Week 2:
â”œâ”€â”€ Day 1-2: Phase 5 (Interview æœåŠ¡)
â”œâ”€â”€ Day 3-4: Phase 6 (Question æœåŠ¡)
â””â”€â”€ Day 5: Phase 7 (Storage æœåŠ¡)

Week 3:
â””â”€â”€ Phase 8 (æµ‹è¯•ä¸ä¼˜åŒ–)
```

---

## ğŸ“ å¤‡æ³¨

1. **MVP ä¼˜å…ˆ**ï¼šå…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼ˆç”¨æˆ·æ³¨å†Œç™»å½•ã€ä¸“é¡¹é¢è¯•ï¼‰ï¼Œå†è¿­ä»£å…¶ä»–åŠŸèƒ½
2. **æµ‹è¯•é©±åŠ¨**ï¼šæ¯å®Œæˆä¸€ä¸ªåŠŸèƒ½æ¨¡å—ï¼Œç«‹å³ç¼–å†™æµ‹è¯•
3. **æ–‡æ¡£åŒæ­¥**ï¼šä»£ç å˜æ›´æ—¶åŒæ­¥æ›´æ–° API æ–‡æ¡£
4. **ä»£ç å®¡æŸ¥**ï¼šé‡è¦åŠŸèƒ½å®Œæˆåè¿›è¡Œä»£ç å®¡æŸ¥

---

*æœ€åæ›´æ–°ï¼š2024-12-21*