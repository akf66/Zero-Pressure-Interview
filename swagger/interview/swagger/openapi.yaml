# Generated with thrift-gen-http-swagger
# https://github.com/hertz-contrib/swagger-generate/blob/main/thrift-gen-http-swagger

openapi: 3.0.3
info:
    title: API generated by thrift-gen-http-swagger
    description: API description
    version: 0.0.1
paths:
    /api/v1/interview/ability-analysis:
        get:
            tags:
                - InterviewService
            operationId: InterviewService_GetAbilityAnalysis
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/GetAbilityAnalysisResponseBody'
    /api/v1/interview/analyze-resume:
        post:
            tags:
                - InterviewService
            operationId: InterviewService_AnalyzeResume
            requestBody:
                description: ==================== 简历分析 ====================
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AnalyzeResumeRequestBody'
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AnalyzeResumeResponseBody'
    /api/v1/interview/history:
        get:
            tags:
                - InterviewService
            operationId: InterviewService_GetInterviewHistory
            parameters:
                - name: type
                  in: query
                  description: 类型筛选
                  schema:
                    type: integer
                    format: int32
                - name: page
                  in: query
                  schema:
                    type: integer
                    format: int32
                - name: page_size
                  in: query
                  schema:
                    type: integer
                    format: int32
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/GetInterviewHistoryResponseBody'
    /api/v1/interview/start:
        post:
            tags:
                - InterviewService
            operationId: InterviewService_StartInterview
            requestBody:
                description: ==================== 开始面试 ====================
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/StartInterviewRequestBody'
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/StartInterviewResponseBody'
    /api/v1/interview/{interview_id}:
        get:
            tags:
                - InterviewService
            operationId: InterviewService_GetInterviewDetail
            responses:
                "200":
                    description: ==================== 获取面试详情 ====================
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/GetInterviewDetailResponseBody'
    /api/v1/interview/{interview_id}/answer:
        post:
            tags:
                - InterviewService
            operationId: InterviewService_SubmitAnswer
            requestBody:
                description: ==================== 提交回答 ====================
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SubmitAnswerRequestBody'
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SubmitAnswerResponseBody'
    /api/v1/interview/{interview_id}/finish:
        post:
            tags:
                - InterviewService
            operationId: InterviewService_FinishInterview
            responses:
                "200":
                    description: ==================== 结束面试 ====================
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/FinishInterviewResponseBody'
components:
    schemas:
        AbilityScore:
            type: object
            properties:
                dimension:
                    type: string
                    description: 能力维度（如：编程基础、算法、系统设计等）
                score:
                    type: integer
                    description: 分数（0-100）
                    format: int32
            description: 能力评分
        AnalyzeResumeRequestBody:
            type: object
            properties:
                resume_id:
                    type: integer
                    format: int64
        AnalyzeResumeResponseBody:
            type: object
            properties:
                code:
                    type: integer
                    format: int64
                message:
                    type: string
                analysis:
                    type: string
                suggestions:
                    type: array
                    items:
                        type: string
                matched_positions:
                    type: array
                    items:
                        type: string
        FinishInterviewResponseBody:
            type: object
            properties:
                code:
                    type: integer
                    format: int64
                message:
                    type: string
                score:
                    type: integer
                    format: int32
                evaluation:
                    type: string
        GetAbilityAnalysisResponseBody:
            type: object
            properties:
                code:
                    type: integer
                    format: int64
                message:
                    type: string
                abilities:
                    type: array
                    items:
                        $ref: '#/components/schemas/AbilityScore'
                summary:
                    type: string
        GetInterviewDetailResponseBody:
            type: object
            properties:
                code:
                    type: integer
                    format: int64
                message:
                    type: string
                interview:
                    $ref: '#/components/schemas/InterviewEntity'
                messages:
                    type: array
                    items:
                        $ref: '#/components/schemas/InterviewMessage'
        GetInterviewHistoryResponseBody:
            type: object
            properties:
                code:
                    type: integer
                    format: int64
                message:
                    type: string
                interviews:
                    type: array
                    items:
                        $ref: '#/components/schemas/InterviewEntity'
                page:
                    $ref: '#/components/schemas/PageResponse'
        Interview:
            type: object
            properties:
                user_id:
                    type: integer
                    format: int64
                type:
                    enum:
                        - IT_NOT_SPECIFIED
                        - SPECIALIZED
                        - COMPREHENSIVE
                    type: string
                    description: 类型：专项/综合
                    format: enum
                category:
                    type: string
                    description: 专项类型或岗位
                round:
                    enum:
                        - IR_NOT_SPECIFIED
                        - FIRST_ROUND
                        - SECOND_ROUND
                        - THIRD_ROUND
                        - HR_ROUND
                    type: string
                    description: 面试轮次（综合面试）
                    format: enum
                status:
                    enum:
                        - IS_NOT_SPECIFIED
                        - IN_PROGRESS
                        - COMPLETED
                        - CANCELLED
                    type: string
                    description: 状态：进行中/已完成/已取消
                    format: enum
                score:
                    type: integer
                    description: 评分
                    format: int32
                evaluation:
                    type: string
                    description: AI评估
                created_at:
                    type: integer
                    format: int64
                finished_at:
                    type: integer
                    format: int64
            description: 面试领域对象
        InterviewEntity:
            type: object
            properties:
                id:
                    type: integer
                    format: int64
                interview:
                    $ref: '#/components/schemas/Interview'
            description: 面试实体
        InterviewMessage:
            type: object
            properties:
                id:
                    type: integer
                    format: int64
                interview_id:
                    type: integer
                    format: int64
                role:
                    enum:
                        - MR_NOT_SPECIFIED
                        - INTERVIEWER
                        - CANDIDATE
                    type: string
                    description: 消息角色：面试官/候选人
                    format: enum
                content:
                    type: string
                created_at:
                    type: integer
                    format: int64
            description: 面试对话消息
        PageResponse:
            type: object
            properties:
                total:
                    type: integer
                    description: 总数
                    format: int64
                page:
                    type: integer
                    description: 当前页
                    format: int32
                page_size:
                    type: integer
                    description: 每页数量
                    format: int32
            description: 分页响应
        StartInterviewRequestBody:
            type: object
            properties:
                type:
                    type: integer
                    description: 类型：1-专项/2-综合
                    format: int32
                category:
                    type: string
                    description: 专项类型或岗位
                difficulty:
                    type: integer
                    description: 难度：1-简单/2-中等/3-困难
                    format: int32
                round:
                    type: integer
                    description: 面试轮次
                    format: int32
                resume_id:
                    type: integer
                    description: 简历ID（可选）
                    format: int64
        StartInterviewResponseBody:
            type: object
            properties:
                code:
                    type: integer
                    format: int64
                message:
                    type: string
                interview_id:
                    type: integer
                    format: int64
                first_question:
                    type: string
        SubmitAnswerRequestBody:
            type: object
            properties:
                answer:
                    type: string
        SubmitAnswerResponseBody:
            type: object
            properties:
                code:
                    type: integer
                    format: int64
                message:
                    type: string
                next_question:
                    type: string
                is_finished:
                    type: boolean
tags:
    - name: InterviewService
      description: ==================== 面试服务接口 ====================
