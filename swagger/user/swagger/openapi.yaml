# Generated with thrift-gen-http-swagger
# https://github.com/hertz-contrib/swagger-generate/blob/main/thrift-gen-http-swagger

openapi: 3.0.3
info:
    title: API generated by thrift-gen-http-swagger
    description: API description
    version: 0.0.1
paths:
    /api/v1/user/account:
        delete:
            tags:
                - UserService
            operationId: UserService_DeleteAccount
            responses: {}
    /api/v1/user/login:
        post:
            tags:
                - UserService
            operationId: UserService_Login
            requestBody:
                description: ==================== 用户登录 ====================
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/LoginRequestBody'
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/LoginResponseBody'
    /api/v1/user/logout:
        post:
            tags:
                - UserService
            operationId: UserService_Logout
            responses: {}
    /api/v1/user/password:
        post:
            tags:
                - UserService
            operationId: UserService_ChangePassword
            requestBody:
                description: ==================== 修改密码 ====================
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ChangePasswordRequestBody'
            responses: {}
    /api/v1/user/password/reset:
        post:
            tags:
                - UserService
            operationId: UserService_ResetPassword
            requestBody:
                description: ==================== 重置密码 ====================
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ResetPasswordRequestBody'
            responses: {}
    /api/v1/user/profile:
        get:
            tags:
                - UserService
            description: 用户信息管理
            operationId: UserService_GetProfile
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/GetProfileResponseBody'
        put:
            tags:
                - UserService
            operationId: UserService_UpdateProfile
            requestBody:
                description: ==================== 更新用户信息 ====================
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UpdateProfileRequestBody'
            responses: {}
    /api/v1/user/register:
        post:
            tags:
                - UserService
            description: 用户认证
            operationId: UserService_Register
            requestBody:
                description: ==================== 用户注册 ====================
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/RegisterRequestBody'
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/RegisterResponseBody'
    /api/v1/user/resume:
        get:
            tags:
                - UserService
            operationId: UserService_GetResume
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/GetResumeResponseBody'
        post:
            tags:
                - UserService
            description: 简历管理
            operationId: UserService_UploadResume
            requestBody:
                description: ==================== 上传简历 ====================
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UploadResumeRequestBody'
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/UploadResumeResponseBody'
    /api/v1/user/verify-code:
        post:
            tags:
                - UserService
            description: 验证码
            operationId: UserService_SendVerifyCode
            requestBody:
                description: ==================== 发送验证码 ====================
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SendVerifyCodeRequestBody'
            responses: {}
components:
    schemas:
        ChangePasswordRequestBody:
            type: object
            properties:
                old_password:
                    type: string
                new_password:
                    type: string
        GetProfileResponseBody:
            type: object
            properties:
                code:
                    type: integer
                    format: int64
                message:
                    type: string
                user:
                    $ref: '#/components/schemas/UserEntity'
        GetResumeResponseBody:
            type: object
            properties:
                code:
                    type: integer
                    format: int64
                message:
                    type: string
                resume:
                    $ref: '#/components/schemas/ResumeEntity'
        LoginRequestBody:
            type: object
            properties:
                account:
                    type: string
                    description: 账号（邮箱/用户名/手机号）
                password:
                    type: string
                    description: 密码（密码登录时必填）
                verify_code:
                    type: string
                    description: 验证码（验证码登录时必填）
        LoginResponseBody:
            type: object
            properties:
                code:
                    type: integer
                    format: int64
                message:
                    type: string
                token:
                    type: string
                user:
                    $ref: '#/components/schemas/UserEntity'
        RegisterRequestBody:
            type: object
            properties:
                email:
                    type: string
                phone:
                    type: string
                password:
                    type: string
                nickname:
                    type: string
                verify_code:
                    type: string
                username:
                    type: string
        RegisterResponseBody:
            type: object
            properties:
                code:
                    type: integer
                    format: int64
                message:
                    type: string
                user_id:
                    type: integer
                    format: int64
        ResetPasswordRequestBody:
            type: object
            properties:
                account:
                    type: string
                    description: 账号（邮箱/手机号）
                verify_code:
                    type: string
                    description: 验证码
                new_password:
                    type: string
        Resume:
            type: object
            properties:
                user_id:
                    type: integer
                    format: int64
                file_url:
                    type: string
                parsed_content:
                    type: string
                    description: JSON格式的解析内容
                created_at:
                    type: integer
                    format: int64
            description: 简历领域对象
        ResumeEntity:
            type: object
            properties:
                id:
                    type: integer
                    format: int64
                resume:
                    $ref: '#/components/schemas/Resume'
            description: 简历实体
        SendVerifyCodeRequestBody:
            type: object
            properties:
                code_type:
                    type: integer
                    description: 验证码类型（1-邮箱，2-短信）
                    format: int32
                purpose:
                    type: integer
                    description: 验证码用途
                    format: int32
                target:
                    type: string
                    description: 目标（邮箱地址或手机号）
        UpdateProfileRequestBody:
            type: object
            properties:
                nickname:
                    type: string
                avatar_url:
                    type: string
        UploadResumeRequestBody:
            type: object
            properties:
                file_url:
                    type: string
                parsed_content:
                    type: string
        UploadResumeResponseBody:
            type: object
            properties:
                code:
                    type: integer
                    format: int64
                message:
                    type: string
                resume_id:
                    type: integer
                    format: int64
        User:
            type: object
            properties:
                email:
                    type: string
                nickname:
                    type: string
                avatar_url:
                    type: string
                created_at:
                    type: integer
                    description: 创建时间戳（秒）
                    format: int64
                username:
                    type: string
                phone:
                    type: string
            description: 用户领域对象
        UserEntity:
            type: object
            properties:
                id:
                    type: integer
                    format: int64
                user:
                    $ref: '#/components/schemas/User'
            description: 用户实体（带ID）
tags:
    - name: UserService
      description: ==================== 用户服务接口 ====================
